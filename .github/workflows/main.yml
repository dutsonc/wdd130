name: Deploy GitHub Pages w/ Secret

on:
  push:
    branches:
      - main # Or whatever branch triggers your build

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Use the secret in a build step
      run: |
        # The environment variable MY_API_KEY is set using the GitHub secret
        echo "Building with API Key..."
        ./index.html
      env:
        MY_API_KEY: ${{ secrets.LICHESS_API_KEY }} # Reference the secret here
        # Note: Do not echo the secret value directly as it can be exposed in logs
